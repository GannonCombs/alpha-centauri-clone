***************************************************************************

** Beta test **

***************************************************************************


The following are things I "added" but haven't tested to ensure correctness.

First, the meta-issue. I created a debug mode to be able to test anything.
Use it to test the following issues, but also test debug mode along the way.

✅

 2. Energy Allocation System
  - Split energy production between Economy, Labs, and Psych
  - Economy → Energy reserves (treasury)
  - Labs → Research speed
  - Psych → Talent creation (happiness)
  - Adjustable slider/percentage allocation

  3. Psych, Drones, and Talents System
  - Drones = unhappy citizens (appear based on difficulty and base size)
  - Talents = happy citizens (created via Psych allocation or facilities)
  - Drone Riots occur when Drones > Talents (production stops)
  - Facilities like Recreation Commons reduce drones
  - Police units can suppress drones (based on POLICE social engineering)

    5. Unit Support & Maintenance
  - Units cost minerals to support (based on SUPPORT social engineering)
  - Free support levels (2 units per base by default)
  - Exceeding support level drains minerals from production
  - "Clean Reactor" ability eliminates support costs

  9. Air Units & Fuel/Range
  - Air units have limited range (must return to base/airbase)
  - Range measured in turns from base
  - Needlejets: 2 turn range, Copters: 1 turn range
  - Airbases allow refueling
  - Air superiority combat (+100% vs. air, -50% vs. ground)

     Feature 12: Special Unit Abilities

  - Clean Reactor: No support cost
  - AAA Tracking: +100% vs air units
  - Comm Jammer: +50% attack
  - Blink Displacer: Ignores base defense
  - Empath Song: +50% vs psi armor
  - Framework ready for Cloaking, Drop Pods, Amphibious Pods, Fungal Payload


    13. Probe Teams
  - Infiltrate datalinks
  - Steal technology
  - Sabotage facilities
  - Incite drone riots
  - Mind control units/bases
  - Success rate based on PROBE social engineering

     Feature 14: Sea Transport & Loading

  - Sea units can carry up to 4 land units
  - Loaded units move with transport automatically
  - Unload to adjacent land tiles
  - Loaded units destroyed if transport is destroyed


    Feature 15: Disengage Mechanic

  - Fast units can escape when damaged to 50% or less HP
  - Requires 2+ movement advantage over opponent
  - Success chance: 50% base + morale bonuses + speed bonuses
  - Units retreat to safe adjacent tiles

   Feature 24: Base Conquest (Disloyal Citizens)                                                              ─

  - Captured bases have disloyal citizens for 50 turns
  - Formula: 5 - (turns_since_capture // 10), capped by base size
  - Extra drones make conquered bases harder to manage
  - Works with both combat conquest and probe mind control


   Feature 25: Planetary Council Proposals

  - Added 5 proposals: Unity Core, Global Trade Pact, Solar Shade, Melt Polar Caps, Atrocity Prohibitions
  - Voting UI fully functional
  - Effects implemented (some stubbed for future work)

   Feature 26: Victory Conditions

  - Conquest: Eliminate all enemies
  - Diplomatic: 20 turns as Supreme Leader
  - Economic: 50k credits + Economic Victory project
  - Transcendence: Complete Ascent to Transcendence

  Feature x: Artillery
  - Right click
  - Some hot key also activates



***************************************************************************

** Known Bugs **

***************************************************************************



Notes:
1 The amount of time units/facilities take to produce is hardcoded. Need to make dynamic. Check game files for details.
2 Once we get the commlink of every living faction, give a popup that we now have them all, and thus can now call council.
3 If another unit gets all contacts first, they may call council. Add to the AI behavior that encourages them to call things
that they like. Examples: remove atrocity prohibitions if their faction is warlike, elect governor if they are a candidate, etc.
4 In the tech screen, there is a little text box inside the tech that is colored the correct category of the tech (it's 4x color).
This is great. However, the outline for the tech box itself is always yellow. It should be the same 4x color.

Hurry is still showing a different number of turns remaining compared to the production panel. Make sure these are pulling
from the same data.
Even with a faction having a treaty with me, I can attack them with impunity. Killing their unit did not switch to Vendetta.
If I suggest an attack on an entreatied faction's unit, a popup should show. Check #BREAKINGTREATY and #BREAKINGTRUCE for info.

There is new odd behavior in the Hurry screen. On the first turn, I tried to hurry a scout patrol. It says "Remaining: 3 turns (6 credits)
Your credits: 500" (I got a supply pod.) I click Pay All, and it fills with 30. It can't be 6 AND 30. My guess is, you've started
to get off the hardcoded costs we set a while back. That would be fine. But consistency is most important now. But at least OK works.
Under every base is current research. Fine for now, but enemy research is only visible in certain scenarios.

Also, when I ask a faction for a loan, they respond by asking ME for a loan. You have your prompts all messed up.
Really try to reason through prompts that I should initiate versus NPC-initiated. Focus on implementing player-initiated for now.
I also just finished a conversation with a player without signing a treaty. This should put us in FORMAL truce and show "TRUCE"
in the commlinks. Instead, it shows nothing (informal truce). Zakharov then attacked me, and yet the commlink didn't convert to
VENDETTA. Fix.

You've recently introduced a large bug in hurry. I think it was when you tried to match credits to pay all. But hitting Pay All
does not, in fact, Pay All. It seems to be paying one turn. I can then click hurry again, which is a bug. You can only hurry once per turn.
Ensure that the amount offered with Pay All is truly the ENTIRE remaining cost. Then make sure the other displayed cost matches.
New unit design on better unit tech is still not popping up, at least not consistently. Is the pattern that chassis and
 armor upgrade, but weapons don't?

Character I have treaties with are still attacking me. Note: it is possible to betray someone (though this is rare behavior).
But having TREATY status afterward is a bug. It should say VENDETTA.
Right now, enemy bases say what they're working on. This should only be the case if I have a Pact with them, or Empath Guild,
or am Governor, or have Infiltrated their Datalinks.

Got a diplomatic milestone popup when missing commlinks.
Production times are off. Merchant Exchange takes 20 turns on Turn 1 for Morgan.
Get rid of weapon_mode and armor_mode. We store the ids only. Any data that we need, we can look in unit_data.
FACTION_DATA contains single quotes and double quotes.



***************************************************************************

** Biggest categories we haven't even touched: **

***************************************************************************



Art
Sounds
Terraforming
Resources
Enemy moods
Fog of war
Advanced unit movement (G command, J command, drag path)
Automatic end turn vs button
V to hover
Isometric