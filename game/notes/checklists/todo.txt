***************************************************************************

** Beta test **

***************************************************************************


The following are things I "added" but haven't tested to ensure correctness.

First, the meta-issue. I created a debug mode to be able to test anything.
Use it to test the following issues, but also test debug mode along the way.

✅

 2. Energy Allocation System
  - Split energy production between Economy, Labs, and Psych ✅
  - Economy → Energy reserves (treasury)
  - Labs → Research speed
  - Psych → Talent creation (happiness)
  - Adjustable slider/percentage allocation ✅

  3. Psych, Drones, and Talents System
  - Drones = unhappy citizens (appear based on difficulty and base size)
  - Talents = happy citizens (created via Psych allocation or facilities)
  - Drone Riots occur when Drones > Talents (production stops)
  - Facilities like Recreation Commons reduce drones
  - Police units can suppress drones (based on POLICE social engineering)

    5. Unit Support & Maintenance
  - Units cost minerals to support (based on SUPPORT social engineering)
  - Free support levels (2 units per base by default)
  - Exceeding support level drains minerals from production
  - "Clean Reactor" ability eliminates support costs

  9. Air Units & Fuel/Range
  - Air units have limited range (must return to base/airbase)
  - Range measured in turns from base
  - Needlejets: 2 turn range, Copters: 1 turn range
  - Airbases allow refueling
  - Air superiority combat (+100% vs. air, -50% vs. ground)

     Feature 12: Special Unit Abilities

  - Clean Reactor: No support cost
  - AAA Tracking: +100% vs air units
  - Comm Jammer: +50% attack
  - Blink Displacer: Ignores base defense
  - Empath Song: +50% vs psi armor
  - Framework ready for Cloaking, Drop Pods, Amphibious Pods, Fungal Payload


    13. Probe Teams
  - Infiltrate datalinks
  - Steal technology
  - Sabotage facilities
  - Incite drone riots
  - Mind control units/bases
  - Success rate based on PROBE social engineering

     Feature 14: Sea Transport & Loading

  - Sea units can carry up to 4 land units
  - Loaded units move with transport automatically
  - Unload to adjacent land tiles
  - Loaded units destroyed if transport is destroyed


    Feature 15: Disengage Mechanic

  - Fast units can escape when damaged to 50% or less HP
  - Requires 2+ movement advantage over opponent
  - Success chance: 50% base + morale bonuses + speed bonuses
  - Units retreat to safe adjacent tiles

   Feature 24: Base Conquest (Disloyal Citizens)                                                              ─

  - Captured bases have disloyal citizens for 50 turns
  - Formula: 5 - (turns_since_capture // 10), capped by base size
  - Extra drones make conquered bases harder to manage
  - Works with both combat conquest and probe mind control


   Feature 25: Planetary Council Proposals

  - Added ALL proposals ✅
  - Voting UI fully functional
  - Effects implemented (some stubbed for future work)

   Feature 26: Victory Conditions

  - Conquest: Eliminate all enemies
  - Diplomatic: Win vote for Supreme Leader
  - Economic: 50k credits + Economic Victory project
  - Transcendence: Complete Ascent to Transcendence

  Feature x: Artillery
  - Right click
  - Some hot key also activates



***************************************************************************

** Possible Bugs **

***************************************************************************



1 Once we get the commlink of every living faction, give a popup that we now have them all, and thus can now call council.
2 If another unit gets all contacts first, they may call council. Add to the AI behavior that encourages them to call things
that they like. Examples: remove atrocity prohibitions if their faction is warlike, elect governor if they are a candidate, etc.
3 New unit design on better unit tech is still not popping up, at least not consistently. Is the pattern that chassis and
 armor upgrade, but weapons don't?
4 Got a diplomatic milestone popup when missing commlinks.



***************************************************************************

** Known Bugs **

***************************************************************************


Note: this is the ONLY section of todo.txt that can be edited by Claude Code.

1 Healing should not occur at turn end. It happens in upkeep of the next turn.
2 My diplomatic statuses have disappeared as turns pass. It now shows nothing. Speaking to the factions, it's clear this
is not just a bug in display. I'm able to propose treaties and pacts all over again. Obv, these should persist.
3 The base title name is too high, overlapping on the governor button. There is no space for it between this button and
the mini-map, so move the mini-map down so there is space.
4 Rename button in base view needs to be implemented. A popup with a text box allows us to rename the base. OK and cancel
buttons. The text should be visibly highlighted, so that one backspace button deletes the entire name.
5 Production times are off. Merchant Exchange takes 20 turns on Turn 1 for Morgan.
6 FACTION_DATA contains single quotes and double quotes.
7 Not all faction bonuses are applied.
8 Scroll through all saved files.
9 When I'm surprise attacked, another popup appears for each Pact brother or sister I have, saying, "On behalf of your
 pact, <pactbors> has pronounced on <attacker>!"
10 Invert the way damage is shown.
11 If an artifact is held in a base with an unlinked Network Node, a popup occurs, asking if we'd like to link it.
If yes, the artifact is consumed and we get a free tech. Linking means a network node can only consume one artifact ever.
12 If an artifact walks onto a square that is adjacent to an enemy, a popup occurs that the artifact was stolen. Ok button.
The artifact transports to the title the unit was on.
13 If an artifact is on the same title as a military unit, and another faction kills that unit, the artifact gets taken
in similar fashion. Note that if the tile has multiple units on it, the artifact stays put. Only transfers on the last death.
14 If an artifact moves onto a supply pod, both artifact and pod are consumed. No tech comes of it.
15 The first person to discover any of the three techs starting with "Secrets of" get another tech right after.
16 Healing isn't working correctly. It's applying the bonuses correctly, but when the units are moving. It should only
be when they've skipped their turn entirely. If a unit has even partially moved or acted that turn, healing doesn't happen
naturally (movement onto a monolith is the exception.)
18 Combat showed a bonus of 12% without any descriptor. Was this a morale boost? If so, display it as <morale level>: +<x>%
19 Combat should take one movement of a unit. For some reason, it seems to end the turn of a scout patrol, but take zero
turns off a speeder. It can take additional if the unit is sufficiently wounded. The math there: if the unit has a fraction
of their health gone equal to the number of moves they have, they lose a move. For example, if a speeder starts the turn
with 50% damage, it has 1 move. If it starts the turn with combat, and in the process loses 50% health, it's turn is over
(lost 1 move to battle, 1 to health).
20 If I click on an enemy base, its base view should still pop up. To the right of the base name, it should say (<faction>)


***************************************************************************

** Biggest categories we haven't even touched: **

***************************************************************************



Art
Sounds
Terraforming
Fog of war
Advanced unit movement (G command, J command, drag path)
V to hover
Isometric
Diplomacy trees
Datalinks concepts